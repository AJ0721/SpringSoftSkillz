<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>SoftSkillz 登入前首頁</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta content="" name="keywords" />
  <meta content="" name="description" />
  <script src="https://kit.fontawesome.com/8f15672443.js" crossorigin="anonymous"></script>

  <!-- Favicon -->
  <link href="/img/favicon.ico" rel="icon" />

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap"
    rel="stylesheet" />

  <!-- Icon Font Stylesheet -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Libraries Stylesheet -->
  <link href="/lib/animate/animate.min.css" rel="stylesheet" />
  <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

  <!-- Customized Bootstrap Stylesheet -->
  <link href="/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Template Stylesheet -->
  <link href="/css/style.css" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/extensions/flatpickr/flatpickr.min.css" />

</head>

<body>
  <!-- Spinner Start -->
  <div id="spinner"
    class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <!-- Spinner End -->

  <!-- Navbar Start -->
  <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
    <a href="/softskillz/fhomepage" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
      <h2 class="m-0 text-primary">
        <img src="/account/images/softskillz_logo.png" alt="SoftSkillz" class="me-3"
          style="max-width: 250px; height: auto; margin-top: 16px" />
      </h2>
    </a>
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <div class="navbar-nav ms-auto p-4 p-lg-0">
        <a href="/softskillz/fhomepage" class="nav-item nav-link active">首頁</a>
        <a href="/student/personal-center"  class="nav-item nav-link">個人中心</a>
        <a href="/studentScheduleFront/schedule" class="nav-item nav-link">學生行事曆</a>
        <a href="about.html" class="nav-item nav-link">About</a>
        <div class="nav-item dropdown">
          <a href="/courseFront/selectAllPage" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">課程</a>
          <div class="dropdown-menu fade-down m-0">
            <a href="/courseFront/selectAllPage" class="dropdown-item">所有課程</a>
            <a href="/courseFront/selectAllPage?category=語言" class="dropdown-item">語言</a>
            <a href="/courseFront/selectAllPage?category=程式設計" class="dropdown-item">程式設計</a>
            <a href="/courseFront/selectAllPage?category=藝術" class="dropdown-item">藝術</a>
            <a href="/courseFront/selectAllPage?category=影片剪輯" class="dropdown-item">影片剪輯</a>
            <a href="/courseFront/selectAllPage?category=科學" class="dropdown-item">科學</a>
            <a href="/courseFront/selectAllPage?category=商業" class="dropdown-item">商業</a>
          </div>
        </div>
        <a href="/courseorder/order.do" class="nav-item nav-link">訂單</a>
        <a href="#" class="nav-item nav-link">論壇</a>
        <a href="#" class="nav-item nav-link">學伴</a>
        <a href="#" class="nav-item nav-link">商城</a>
        <a href="contact.html" class="nav-item nav-link">Contact</a>
        <div class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle " data-bs-toggle="dropdown"><i
              class="bi bi-chat-square-dots"></i></a>
          <div class=" dropdown-menu fade-down m-0" id="chatlist">
          </div>
        </div>
        <div class="navbar-nav ms-auto p-4 p-lg-0 ">
          <a href="/coursecart/cart.do" class="nav-item nav-link "><i class="bi bi-cart4"></i></a>
        </div>
        <div class="navbar-nav p-4 p-lg-0">
          <div class="d-flex align-items-center">
            <form id="student-login-form" action="/student/student-loginPage" method="get">
              <button type="submit" class="btn btn-primary py-4 px-lg-5"
                style=" background-color: #3f6cba;color: white;border: 1px solid transparent;display: none;">
                學生登入</button>
            </form>
            <form id="teacher-login-form" action="/teacher/teacher-loginPage" method="get">
              <button type="submit" class="btn btn-primary py-4 px-lg-5" style="display: none"> 老師登入 </button>
            </form>
          </div>
          <form id="student-logout-form" action="/student/student-logout" method="post">
            <button type="submit" class="btn btn-primary py-4 px-lg-5"> 學生登出 </button>
          </form>
        </div>
      </div>
  </nav>
  <!-- Navbar End -->

  <div class="container">
    <div class="row justify-content-center mt-5" style="min-height: 80vh;">
      <div class="col-12 col-md-12 col-lg-12">
        <div class="card " style="min-height:800px;">
          <ul class=" nav nav-tabs" id="orderTab" role="tablist">
            <li class="nav-item" role="presentation">
              <a class="nav-link active" id="paid-tab" data-bs-toggle="tab" href="#paid" role="tab" aria-controls="paid"
                aria-selected="true">已付款</a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="unpaid-tab" data-bs-toggle="tab" href="#unpaid" role="tab" aria-controls="unpaid"
                aria-selected="false">未付款</a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="processing-tab" data-bs-toggle="tab" href="#processing" role="tab"
                aria-controls="processing" aria-selected="false">處理中</a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="cancel-tab" data-bs-toggle="tab" href="#processing" role="tab"
                aria-controls="processing" aria-selected="false">已取消</a>
            </li>
          </ul>
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="d-flex align-items-center">
                <label class="form-label fs-5 mb-0 me-2">時間:</label>
                <input type="date" class="form-control flatpickr-range" placeholder="Select date.."
                  style="width: 220px; height: 30px;" />
                <button class="btn btn-outline-primary ms-3" id="allord">全部訂單</button>

              </div>

              <div class="d-flex align-items-center">
                <label class="fs-5 mb-0 me-2">每頁筆數:</label>
                <select id="pagesize" class="fs-6" size="1" style="width: 50px; height: 30px;">
                  <option value="10">10</option>
                  <option value="15">15</option>
                  <option value="20">20</option>
                  <option value="50">50</option>
                </select>

              </div>
            </div>
            <br>
            <div class="table-responsive">
              <table class="table mb-0 table-hover align-middle">
                <thead id="orderthead">
                  <tr>
                    <th class="text-center">訂單編號</th>
                    <th class="text-center">購買時間</th>
                    <th class="text-center">付款期限</th>
                    <th class="text-center">付款方式</th>
                    <th class="text-center">原始金額</th>
                    <th class="text-center">優惠券</th>
                    <th class="text-center">折扣</th>
                    <th class="text-center">折後金額</th>
                    <th class="text-center">訂單狀態</th>
                    <th class="text-center">詳細資料</th>
                    <th class="text-center">操作</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Table rows go here -->
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-12 d-flex justify-content-center">
            <ul class="pagination">
              <!-- Pagination items go here -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade text-left modal-borderless" id="border-less" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">訂單編號:</h5>
          <button type="button" class="close rounded-pill" data-bs-dismiss="modal" aria-label="Close">
            <i class="fa-solid fa-x" data-feather="x"></i>
          </button>
        </div>
        <div class="modal-body table-responsive">
          <table class="table mb-0">
            <thead>
              <th class="text-center">教師名稱</th>
              <th class="text-center">課程名稱</th>
              <th class="text-center">課程類別</th>
              <th class="text-center">課程單價</th>
              <th class="text-center">購買堂數</th>
              <th class="text-center">折扣</th>
              <th class="text-center">折後單價</th>
              <th class="text-center">小記</th>
              <th class="text-center">使用狀態</th>
            </thead>
            <tbody id="orderitem">

            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary ms-1" data-bs-dismiss="modal">
            <i class="bx bx-check d-block d-sm-none"></i>
            <span class="d-none d-sm-block">確定</span>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- Footer Start -->
  <div class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
      <div class="row g-5">
        <div class="col-lg-3 col-md-6">
          <h4 class="text-white mb-3">Quick Link</h4>
          <a class="btn btn-link" href="">About Us</a>
          <a class="btn btn-link" href="">Contact Us</a>
          <a class="btn btn-link" href="">Privacy Policy</a>
          <a class="btn btn-link" href="">Terms & Condition</a>
          <a class="btn btn-link" href="">FAQs & Help</a>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="text-white mb-3">聯絡我們</h4>
          <p class="mb-2">
            <i class="fa fa-map-marker-alt me-3"></i>123 Street, New York, USA
          </p>
          <p class="mb-2">
            <i class="fa fa-phone-alt me-3"></i>+012 345 67890
          </p>
          <p class="mb-2">
            <i class="fa fa-envelope me-3"></i>info@example.com
          </p>
          <div class="d-flex pt-2">
            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-twitter"></i></a>
            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-facebook-f"></i></a>
            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-youtube"></i></a>
            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="text-white mb-3">圖片集錦</h4>
          <div class="row g-2 pt-2">
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-1.jpg" alt="" />
            </div>
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-2.jpg" alt="" />
            </div>
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-3.jpg" alt="" />
            </div>
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-2.jpg" alt="" />
            </div>
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-3.jpg" alt="" />
            </div>
            <div class="col-4">
              <img class="img-fluid bg-light p-1" src="/img/course-1.jpg" alt="" />
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <h4 class="text-white mb-3">意見信箱</h4>
          <p>Dolor amet sit justo amet elitr clita ipsum elitr est.</p>
          <div class="position-relative mx-auto" style="max-width: 400px">
            <input class="form-control border-0 w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email" />
            <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">
              SignUp
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="copyright">
        <div class="row">
          <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
            &copy; <a class="border-bottom" href="#">Soft Skillz</a>, All
            Right Reserved.

            <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
          </div>
          <div class="col-md-6 text-center text-md-end">
            <div class="footer-menu">
              <a href="">Home</a>
              <a href="">Cookies</a>
              <a href="">Help</a>
              <a href="">FQAs</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Footer End -->

  <!-- Back to Top -->
  <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>

  <!-- JavaScript Libraries -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/lib/wow/wow.min.js"></script>
  <script src="/lib/easing/easing.min.js"></script>
  <script src="/lib/waypoints/waypoints.min.js"></script>
  <script src="/lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="/assets/extensions/flatpickr/flatpickr.min.js"></script>
  <script src="/assets/static/js/pages/date-picker.js"></script>
  <script src="/assets/extensions/sweetalert2/sweetalert2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Template Javascript -->
  <script src="/js/main.js"></script>

  <script>
    let date1 = "";
    let date2 = "";
    let url = "/courseorder";
    let pageNo = "";
    let size = "";
    let status = "";
    let dateSelect = document.querySelector(".flatpickr-range");

    window.onload = () => {
      allorders();
    }

    function allorders() {
      date1 = "";
      date2 = "";
      url = "/courseorder" + "?pid=" + pageNo + "&size=" + size + "&status=" + status;
      sessionStorage.clear();
      fetch(url)
        .then(response => {
          console.log(response);
          if (response.ok) {
            return response.json();
          }
        }).then(data => {
          let orders = JSON.stringify(data);
          sessionStorage.setItem("orders", orders)
          appendorder(data);
        })
    }

    function getDate1() {

      date1 = document.querySelector("#date1").value.replace(/-/g, "");
      date2 = document.querySelector("#date2").value.replace(/-/g, "");
      sessionStorage.setItem("date1", date1);
      sessionStorage.setItem("date2", date2);
      url = "/adminorder" + "/" + date1 + "/" + date2;
      sessionStorage.setItem
      getOrderByDate();
    }

    function getOrderByDate() {
      url = "/courseorder/" + date1 + "/" + date2 + "?pid=" + pageNo + "&size=" + size + "&status=" + status;
      fetch(url).then(response => {
        if (response.ok) {
          return response.json();
        }
      }).then(data => {
        let orders = JSON.stringify(data);
        sessionStorage.setItem("orders", orders)
        appendorder(data);
      }).catch(error => {
        console.log(error);
      });
    }

    function cancel(orderID) {
      fetch("/courseorder/" + orderID, {
        method: "put",
        headers: { "Content-Type": "application/json" },
      }).then(response => {
        if (response.ok) {
          date1 = sessionStorage.getItem("date1");
          date2 = sessionStorage.getItem("date2");
          if (date1 && date2) {
            console.log("d1=" + date1, "d2=" + date2)
            getOrderByDate();
          } else {
            allorders();
          }
        }
      })
        .catch(error => {
          console.log(error);
        });
    }

    function delOrder(orderID) {
      fetch("/adminorder/" + orderID, {
        method: "delete",
        headers: { "Content-Type": "application/json" },
      }).then(response => {
        if (response.ok) {
          if (date1 && date2) {
            console.log("d1=" + date1, "d2=" + date2)
            getOrderByDate();
          } else {
            allorders();
          }
        }
      }).catch(error => {
        console.log(error);
      });
    }

    function getPageList(pageNo) {
      fetch("/adminorder?" + "pid=" + pageNo)
        .then(response => {
          if (response.ok) {
            return response.json();
          }
        }).then(data => {
          let orders = JSON.stringify(data);
          sessionStorage.setItem("orders", orders)
          appendorder(data);
        })
    }


    function appendorder(data) {
      let tbody = document.querySelector("tbody");
      tbody.innerHTML = "";
      let content = data.content;
      for (let key in content) {
        let row = document.createElement("tr");
        let date = new Date(content[key].orderDate);
        let date2 = new Date(content[key].cancelDate);
        row.innerHTML =
          "<td class='text-center orderID'>" + content[key].orderID + "</td>" +
          "<td class='text-center'>" + date.toLocaleString("sv") + "</td>" +
          "<td class='text-center'>" + date2.toLocaleString('sv') + "</td>" +
          "<td class='text-center " + (content[key].orderStatus != "未付款" ? "" : "d-none") + "'>" + content[key].paymentMethod + "</td>" +
          "<td class='text-center'>" + content[key].orderPrice + "</td>" +
          "<td class='text-center " + (content[key].orderStatus != "未付款" ? "" : "d-none") + "'>" + content[key].disNo + "</td>" +
          "<td class='text-center " + (content[key].orderStatus != "未付款" ? "" : "d-none") + "'>" + content[key].disPercent + "</td>" +
          "<td class='text-center " + (content[key].orderStatus != "未付款" ? "" : "d-none") + "'>" + content[key].afterPrice + "</td>" +
          "<td class='text-center'>" + content[key].orderStatus + "</td>" +
          "<td class='text-center'><button class='btn btn-outline-primary block itembtn' data-bs-toggle='modal' data-bs-target='#border-less'>詳細</button></td>" +
          "<td class='text-center'><button class='btn btn-primary calbtn " + (content[key].orderStatus != "已取消" ? "" : "d-none") + "'>取消</button></td>" +
          "<td class='text-center'><a class='btn btn-primary  " + (content[key].orderStatus == "未付款" ? "" : "d-none") + "'>付款</a></td>";

        tbody.appendChild(row);
        let item = row.querySelector(".itembtn");
        item.addEventListener("click", getItem);
        // 
        let calbtn = row.querySelector(".calbtn");
        calbtn.addEventListener("click", calAl);
      }
      let page = data.totalPages;
      let pagination = document.querySelector(".pagination");
      let pageNumber = data.pageable.pageNumber;
      console.log("pageNumber" + pageNumber);

      pagination.innerHTML = "";
      let previousLi = document.createElement("li");
      previousLi.className = "page-item";
      previousLi.innerHTML = `<a class="page-link" href="#" aria-label="Previous" id="previous"><span aria-hidden="true">&laquo;</span></a>`
      pagination.appendChild(previousLi);
      let previous = document.querySelector("#previous");
      previous.addEventListener("click", (e) => {
        console.log(pageNumber);
        e.preventDefault();
        if (pageNumber > 0) {
          pageNo = pageNumber;
          choose();
        }
      });

      for (let i = 0; i < page; i++) {
        let li = document.createElement("li");
        if (pageNumber == i) {
          li.className = "page-item active";
        } else {
          li.className = "page-item";
        }
        let a = document.createElement("a");
        a.className = "page-link";
        a.href = "#";
        a.textContent = i + 1;
        a.addEventListener("click", (e) => {
          e.preventDefault();
          pageNo = parseInt(e.target.textContent, 10);
          choose();
        })
        li.appendChild(a);
        pagination.append(li);
      }
      let NextLi = document.createElement("li");
      NextLi.className = "page-item";
      NextLi.innerHTML = `<a class="page-link" href="#" aria-label="Next" id="next"><span aria-hidden="true" >&raquo;</span></a>`
      pagination.appendChild(NextLi);

      let next = document.querySelector("#next");
      next.addEventListener("click", (e) => {
        console.log(123);
        e.preventDefault();
        if (pageNumber + 1 < page) {
          pageNo = pageNumber + 2
          console.log("123+" + date1);
          console.log(date1 == "");
          choose();
        }
      });
    }


    pagesize = document.querySelector("#pagesize");
    pagesize.addEventListener("change", (e) => {
      size = e.target.value;
      console.log(size);
      pageNo = "";
      choose();
    })



    const dateRangeInput = document.querySelector('.flatpickr-range');
    const flatpickrInstance = flatpickr(dateRangeInput, {
      mode: 'range', // 設定為範圍選擇
      onChange: (selectedDates, dateStr, instance) => {
        getSelectedDateRange();
      },
    });

    // 取得所選的日期區間
    function getSelectedDateRange() {
      if (flatpickrInstance.selectedDates.length === 2) {
        let startDate = flatpickrInstance.selectedDates[0];
        let endDate = flatpickrInstance.selectedDates[1];
        console.log((startDate.getMonth() + 1) < 10 ? "0" + (startDate.getMonth() + 1) : (startDate.getMonth() + 1));
        console.log(endDate);
        date1 = dateFormat(startDate);
        console.log(date1);
        date2 = dateFormat(endDate);
        console.log(date2);
        pageNo = "";
        getOrderByDate();

      } else {
        console.log('Please select a date range');
      }
    };

    // 示例如何使用
    // 在初始化後立即獲取所選區間


    function choose() {
      if (date1 && date2) {
        console.log("d1=" + date1, "d2=" + date2)
        getOrderByDate();
      } else {
        allorders();
      }
    }

    let allord = document.querySelector("#allord");
    allord.addEventListener("click", () => {
      dateSelect.value = "";
      if (date1 && date2) {
        pageNo = ""
        allorders();
      }
    })

    function getItem(e) {
      let tr = e.target.closest("tr");
      console.log(tr);
      let id = tr.querySelector(".orderID").innerText;
      let title = document.querySelector(".modal-title");
      title.innerHTML = "訂單編號:" + id;
      fetch("/adminorder/" + id)
        .then(response => {
          if (response.ok) {
            return response.json();
          }
        }).then(data => {
          let orderitem = document.querySelector("#orderitem");
          orderitem.innerHTML = "";
          for (let key in data) {
            let row = document.createElement("tr");
            row.innerHTML =
              "<td class='text-center'>" + data[key].teacherName + "</td>" +
              "<td class='text-center'>" + data[key].courseName + "</td>" +
              "<td class='text-center'>" + data[key].courseCategory + "</td>" +
              "<td class='text-center'>" + data[key].coursePrice + "</td>" +
              "<td class='text-center'>" + data[key].qty + "</td>" +
              "<td class='text-center'>" + data[key].disPercent + "</td>" +
              "<td class='text-center'>" + data[key].disPrice + "</td>" +
              "<td class='text-center'>" + data[key].subtotal + "</td>" +
              "<td class='text-center'>" + data[key].status + "</td>";
            orderitem.appendChild(row);
          }
        })
    }



    function deleteAl() {
      Swal2.fire({
        title: "您確定要刪除嗎？",
        text: "此操作無法撤銷！",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "是的，刪除",
        cancelButtonText: "取消",
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          // 刪除的行為
          Toast.fire({
            icon: 'success',
            title: '項目已被刪除'
          });
          // 在此處執行您的刪除邏輯
        } else {
          Swal2.fire("取消", "項目未被刪除。", "info");
        }
      })
    };
    const Swal2 = Swal.mixin({
      customClass: {
        input: 'form-control'
      }
    });

    const Toast = Swal.mixin({
      toast: true,
      position: 'top-end',
      showConfirmButton: false,
      timer: 3000,
      timerProgressBar: true,
      didOpen: (toast) => {
        toast.addEventListener('mouseenter', Swal.stopTimer);
        toast.addEventListener('mouseleave', Swal.resumeTimer);
      }
    });

    function deleteAl(e) {
      console.log(123);
      let tr = e.target.closest("tr");
      console.log(tr);
      let id = tr.querySelector(".orderID").innerText;
      Swal2.fire({
        title: "您確定要刪除嗎？",
        text: "此操作無法撤銷！",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "是的，刪除",
        cancelButtonText: "放棄",
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          // 刪除的行為
          delOrder(id);
          Toast.fire({
            icon: 'success',
            title: '已刪除'
          });
          // 在此處執行您的刪除邏輯
        } else {
          Swal2.fire("取消", "項目未被刪除。", "info");
        }
      })
    };

    function calAl(e) {
      console.log(123);
      let tr = e.target.closest("tr");
      console.log(tr);
      let id = tr.querySelector(".orderID").innerText;
      Swal2.fire({
        title: "您確定要取消嗎？",
        text: "此操作無法撤銷！",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "是的，取消",
        cancelButtonText: "放棄",
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          // 刪除的行為
          cancel(id);
          Toast.fire({
            icon: 'success',
            title: '項目已被取消'
          });
          // 在此處執行您的刪除邏輯
        } else {
          Swal2.fire("放棄", "項目未被刪除。", "info");
        }
      })
    };


    function dateFormat(date) {
      let year = date.getFullYear()
      let mon = (date.getMonth() + 1) < 10 ? "0" + (date.getMonth() + 1) : (date.getMonth() + 1);
      let day = date.getDate() < 10 ? "0" + date.getDate() : date.getDate();

      return year + "-" + mon + "-" + day;
    }

    document.querySelector("#paid-tab").addEventListener("click", () => {
      let thead = document.querySelector("#orderthead");
      thead.innerHTML = `<tr>
                    <th class="text-center">訂單編號</th>
                    <th class="text-center">購買時間</th>
                    <th class="text-center">付款期限</th>
                    <th class="text-center">付款方式</th>
                    <th class="text-center">原始金額</th>
                    <th class="text-center">優惠券</th>
                    <th class="text-center">折扣</th>
                    <th class="text-center">折後金額</th>
                    <th class="text-center">訂單狀態</th>
                    <th class="text-center">詳細資料</th>
                    <th class="text-center">操作</th>
                  </tr>`
      dateSelect.value = "";
      status = "已付款";
      allorders();
    })

    document.querySelector("#unpaid-tab").addEventListener("click", () => {
      let thead = document.querySelector("#orderthead");
      thead.innerHTML = `<tr>
                    <th class="text-center">訂單編號</th>
                    <th class="text-center">購買時間</th>
                    <th class="text-center">付款期限</th>
                    <th class="text-center">原始金額</th>
                    <th class="text-center">訂單狀態</th>
                    <th class="text-center">詳細資料</th>
                    <th class="text-center">操作</th>
                    <th class="text-center">付款</th>
                  </tr>`
      dateSelect.value = "";
      status = "未付款";
      allorders();
    })

    document.querySelector("#processing-tab").addEventListener("click", () => {
      let thead = document.querySelector("#orderthead");
      thead.innerHTML = `<tr>
        <th class="text-center">訂單編號</th>
                    <th class="text-center">購買時間</th>
                    <th class="text-center">付款期限</th>
                    <th class="text-center">付款方式</th>
                    <th class="text-center">原始金額</th>
                    <th class="text-center">優惠券</th>
                    <th class="text-center">折扣</th>
                    <th class="text-center">折後金額</th>
                    <th class="text-center">訂單狀態</th>
                    <th class="text-center">詳細資料</th>
                    <th class="text-center">操作</th>
                  </tr>`
      dateSelect.value = "";
      status = "處理中";
      allorders();
    })

    document.querySelector("#cancel-tab").addEventListener("click", () => {
      let thead = document.querySelector("#orderthead");
      thead.innerHTML = `<tr>
        <th class="text-center">訂單編號</th>
                    <th class="text-center">購買時間</th>
                    <th class="text-center">付款期限</th>
                    <th class="text-center">付款方式</th>
                    <th class="text-center">原始金額</th>
                    <th class="text-center">優惠券</th>
                    <th class="text-center">折扣</th>
                    <th class="text-center">折後金額</th>
                    <th class="text-center">訂單狀態</th>
                    <th class="text-center">詳細資料</th>
                  </tr>`
      dateSelect.value = "";
      status = "已取消";
      allorders();
    })


  </script>

</body>

</html>